import React, { useState, useEffect } from 'react';
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line, ComposedChart } from 'recharts';
import { ArrowRight, CheckCircle, Target, TestTube, Users, BrainCircuit, Waves, BarChart2, Search, SlidersHorizontal, Package, FileText, FlaskConical, BookOpen, XCircle, Beaker } from 'lucide-react';

// --- Mock Data based on the 1986 Moskowitz Paper ---
const accordDetailData = {
    'Strength': [
        { level: 52, Low: 60, Medium: 45, High: 38 },
        { level: 56, Low: 45, Medium: 55, High: 42 },
        { level: 60, Low: 38, Medium: 53, High: 50 },
        { level: 64, Low: 35, Medium: 40, High: 55 },
    ],
    'Sweetness': [
        { level: 35, Low: 33, Medium: 40, High: 48 },
        { level: 45, Low: 42, Medium: 48, High: 45 },
        { level: 55, Low: 48, Medium: 50, High: 42 },
        { level: 65, Low: 50, Medium: 49, High: 41 },
    ],
    'Floweriness': [
        { level: 35, Low: 35, Medium: 43, High: 58 },
        { level: 45, Low: 42, Medium: 52, High: 45 },
        { level: 55, Low: 53, Medium: 48, High: 40 },
        { level: 65, Low: 58, Medium: 42, High: 38 },
    ],
    'Spiciness': [
        { level: 30, Low: 54, Medium: 42, High: 41 },
        { level: 40, Low: 45, Medium: 51, High: 45 },
        { level: 50, Low: 35, Medium: 45, High: 58 },
        { level: 55, Low: 32, Medium: 40, High: 60 },
    ],
};

// --- Main App Component ---
export default function App() {
  const [activeAccord, setActiveAccord] = useState('Strength');

  return (
    <div className="bg-gray-50 font-sans text-gray-800">
      {/* --- Header --- */}
      <header className="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav className="container mx-auto px-6 py-4 flex justify-between items-center">
          <div className="flex items-center space-x-3">
            <BrainCircuit className="text-indigo-600 h-8 w-8" />
            <span className="text-2xl font-bold text-gray-900">Mindgenomics</span>
          </div>
        </nav>
      </header>

      {/* --- Hero Section --- */}
      <section className="relative h-[60vh] md:h-[80vh] flex items-center justify-center text-white text-center px-4 overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600 opacity-90 z-10"></div>
        <div className="absolute inset-0 z-0">
           <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" className="object-cover w-full h-full">
            <defs>
              <pattern id="pattern-circles" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse">
                <circle id="pattern-circle" cx="20" cy="20" r="2" className="fill-white/10"></circle>
              </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#pattern-circles)"></rect>
          </svg>
        </div>
        <div className="relative z-20 max-w-4xl animate-fade-in-up">
          <h1 className="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tight mb-4 leading-tight">
            Unlocking the Hidden Signals of Fragrance Preference
          </h1>
          <p className="text-lg md:text-2xl max-w-2xl mx-auto text-indigo-100">
            A scientific method for segmenting what people really want — and why.
          </p>
        </div>
      </section>

      <main className="container mx-auto px-6 py-16 md:py-24 space-y-24 md:space-y-32">
        
        {/* --- The Fragrance Paradox --- */}
        <section className="text-center max-w-3xl mx-auto">
          <h2 className="text-3xl md:text-4xl font-bold mb-4">The Fragrance Paradox</h2>
          <p className="text-lg text-gray-600">
            Fragrance is deeply personal, yet R&D and marketing decisions are often based on averages. Traditional segmentation by demographics or psychographics tells you <span className="font-semibold text-indigo-600">who</span> your consumers are, but not <span className="font-semibold text-indigo-600">why</span> they prefer one scent over another. This leads to missed opportunities and launches that don't resonate deeply.
          </p>
        </section>

        {/* --- The Limits of Traditional Methods --- */}
        <section>
            <div className="text-center max-w-3xl mx-auto mb-12">
                <h2 className="text-3xl md:text-4xl font-bold mb-4">Why Standard Testing Falls Short</h2>
                <p className="text-lg text-gray-600">
                    Many think they understand preference because they test products. However, simply rating existing fragrances isn't enough to uncover the deep-seated rules of liking.
                </p>
            </div>
            <div className="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div className="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                    <div className="flex items-center mb-4">
                        <XCircle className="h-10 w-10 text-red-500 mr-4"/>
                        <h3 className="text-2xl font-bold">The Standard Approach</h3>
                    </div>
                    <p className="text-gray-600 mb-4">Testing a few existing products (yours and competitors') and asking for liking scores.</p>
                    <ul className="space-y-3 text-gray-500">
                        <li className="flex items-start"><XCircle className="h-5 w-5 text-red-400 mr-2 mt-1 flex-shrink-0"/><span>Generates an "average" winner that may not truly excite anyone.</span></li>
                        <li className="flex items-start"><XCircle className="h-5 w-5 text-red-400 mr-2 mt-1 flex-shrink-0"/><span>Doesn't explain *why* something is liked; the sensory drivers remain a mystery.</span></li>
                        <li className="flex items-start"><XCircle className="h-5 w-5 text-red-400 mr-2 mt-1 flex-shrink-0"/><span>Can't predict how a new, different fragrance might perform.</span></li>
                        <li className="flex items-start"><XCircle className="h-5 w-5 text-red-400 mr-2 mt-1 flex-shrink-0"/><span>Hides niche segments with strong preferences for notes outside the current market.</span></li>
                    </ul>
                </div>
                <div className="bg-white p-8 rounded-xl shadow-2xl border-2 border-indigo-500">
                    <div className="flex items-center mb-4">
                        <CheckCircle className="h-10 w-10 text-indigo-600 mr-4"/>
                        <h3 className="text-2xl font-bold">The Mindgenomics Approach</h3>
                    </div>
                    <p className="text-gray-600 mb-4">Systematically creating and testing a wide range of fragrance prototypes where key accords are intentionally varied.</p>
                    <ul className="space-y-3 text-gray-500">
                        <li className="flex items-start"><CheckCircle className="h-5 w-5 text-green-500 mr-2 mt-1 flex-shrink-0"/><span>Maps the entire preference landscape for each individual.</span></li>
                        <li className="flex items-start"><CheckCircle className="h-5 w-5 text-green-500 mr-2 mt-1 flex-shrink-0"/><span>Builds a mathematical model for each person: Liking = f(Sensory Notes).</span></li>
                        <li className="flex items-start"><CheckCircle className="h-5 w-5 text-green-500 mr-2 mt-1 flex-shrink-0"/><span>Identifies distinct segments of people who share the same sensory "rules".</span></li>
                        <li className="flex items-start"><CheckCircle className="h-5 w-5 text-green-500 mr-2 mt-1 flex-shrink-0"/><span>Provides a predictive roadmap for creating new, highly-liked fragrances.</span></li>
                    </ul>
                </div>
            </div>
        </section>

        {/* --- The Experimental Design --- */}
        <section className="bg-gray-100 rounded-2xl py-16 md:py-20">
          <div className="container mx-auto px-6">
            <div className="text-center max-w-3xl mx-auto mb-12">
              <h2 className="text-3xl md:text-4xl font-bold mb-4">The Mindgenomics Approach: True Experimental Design</h2>
              <p className="text-lg text-gray-600">
                This is not a survey—it's a scientific experiment. We deconstruct fragrance into its core sensory components and discover how consumers truly respond to them. This provides a robust, predictive understanding of preference.
              </p>
            </div>
            <div className="grid md:grid-cols-3 gap-8 items-start">
              <div className="text-center p-6">
                  <div className="bg-indigo-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-inner">
                      <Beaker className="h-12 w-12 text-indigo-600" />
                  </div>
                  <h3 className="text-xl font-semibold mb-2">1. Systematic Variation</h3>
                  <p className="text-gray-500">We design and create a set of fragrance prototypes according to a formal experimental plan. Each prototype is a unique, intentional combination of sensory accords (e.g., low floral/high spice, high floral/low spice), systematically covering a wide sensory space to avoid gaps and biases.</p>
              </div>
              <div className="text-center p-6">
                  <div className="bg-purple-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-inner">
                      <SlidersHorizontal className="h-12 w-12 text-purple-600" />
                  </div>
                  <h3 className="text-xl font-semibold mb-2">2. Blind Evaluation</h3>
                  <p className="text-gray-500">Consumers blindly evaluate these prototypes in a randomized order. They rate each one on its perceived sensory character and, most importantly, their overall liking. This rigorous process removes all brand bias and focuses purely on the sensory experience.</p>
              </div>
              <div className="text-center p-6">
                  <div className="bg-pink-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-inner">
                      <BrainCircuit className="h-12 w-12 text-pink-600" />
                  </div>
                  <h3 className="text-xl font-semibold mb-2">3. Model & Cluster</h3>
                  <p className="text-gray-500">For each person, we build an individual-level statistical model that connects the sensory ratings to liking. We then use cluster analysis to group people with similar models—and therefore similar preference rules—into robust, actionable sensory segments.</p>
              </div>
            </div>
          </div>
        </section>

        {/* --- Case Study Section --- */}
        <section>
            <div className="text-center max-w-3xl mx-auto mb-12">
                <h2 className="text-3xl md:text-4xl font-bold mb-4">The Proof: A Foundational 1986 Case Study</h2>
                <p className="text-lg text-gray-600">
                    This methodology's power was first demonstrated in a landmark 1986 paper by Howard Moskowitz. By varying accords like <span className="font-semibold text-indigo-600">Sweetness</span>, <span className="font-semibold text-purple-600">Floweriness</span>, and <span className="font-semibold text-pink-600">Spiciness</span>, the study uncovered three distinct preference segments hidden within the "average" consumer response.
                </p>
            </div>
            <div className="bg-white p-4 md:p-8 rounded-2xl shadow-xl">
                <h3 className="text-xl font-bold mb-6 text-center">How Liking Changes by Accord and Segment</h3>
                <div className="flex justify-center mb-6 space-x-2 md:space-x-4 flex-wrap">
                    {Object.keys(accordDetailData).map(accord => (
                        <button key={accord} onClick={() => setActiveAccord(accord)} className={`px-4 py-2 my-1 text-sm md:text-base rounded-full font-semibold transition-colors duration-300 ${activeAccord === accord ? 'bg-indigo-600 text-white shadow' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}>
                            {accord}
                        </button>
                    ))}
                </div>
                <ResponsiveContainer width="100%" height={400}>
                    <LineChart data={accordDetailData[activeAccord]} margin={{ top: 5, right: 20, left: 0, bottom: 20 }}>
                        <CartesianGrid strokeDasharray="3 3" />
                        <XAxis dataKey="level" type="number" domain={['dataMin', 'dataMax']} label={{ value: `Perceived Intensity of ${activeAccord}`, position: 'insideBottom', offset: -15 }}/>
                        <YAxis label={{ value: 'Overall Liking', angle: -90, position: 'insideLeft' }} domain={[20, 70]}/>
                        <Tooltip />
                        <Legend wrapperStyle={{bottom: -5}}/>
                        <Line type="monotone" dataKey="Low" name="Low Impact" stroke="#34d399" strokeWidth={3} />
                        <Line type="monotone" dataKey="Medium" name="Medium Impact" stroke="#a78bfa" strokeWidth={3} />
                        <Line type="monotone" dataKey="High" name="High Impact" stroke="#f472b6" strokeWidth={3} />
                    </LineChart>
                </ResponsiveContainer>
                <p className="text-center text-gray-500 mt-4">
                    Select an accord to see how each segment responds differently. The average response would hide these critical nuances.
                </p>
            </div>
        </section>

        {/* --- Example Segments --- */}
        <section>
          <div className="text-center max-w-3xl mx-auto mb-12">
            <h2 className="text-3xl md:text-4xl font-bold mb-4">The Three Segments Revealed</h2>
            <p className="text-lg text-gray-600">
              The analysis uncovered three "mindsets," not based on who they are, but on what they sensorially prefer. These are the true, hidden drivers of choice.
            </p>
          </div>
          <div className="grid md:grid-cols-3 gap-8">
              <div className="bg-white p-6 rounded-xl shadow-lg border-2 border-emerald-400">
                <h3 className="text-2xl font-bold text-emerald-500">Low Impact</h3>
                <p className="text-gray-600 mt-2">Dislikes strong, heavy notes. Prefers fragrances that are subtle and fresh. Their liking drops as intensity increases.</p>
              </div>
               <div className="bg-white p-6 rounded-xl shadow-lg border-2 border-violet-400">
                <h3 className="text-2xl font-bold text-violet-500">Medium Impact</h3>
                <p className="text-gray-600 mt-2">The "classic" fragrance lover. They seek balance and enjoy sweet and floral accords, but only up to a certain point before it becomes too much.</p>
              </div>
               <div className="bg-white p-6 rounded-xl shadow-lg border-2 border-pink-400">
                <h3 className="text-2xl font-bold text-pink-500">High Impact</h3>
                <p className="text-gray-600 mt-2">Wants to make a statement. Their liking grows with the intensity of heavy, spicy, and strong accords. For them, more is more.</p>
              </div>
          </div>
            <div className="text-center mt-12">
                <a href="https://library.scconline.org/abstracts/25509" target="_blank" rel="noopener noreferrer" className="inline-flex items-center bg-gray-800 text-white px-6 py-3 rounded-full hover:bg-gray-900 transition-colors duration-300 font-semibold shadow-lg">
                    <BookOpen className="mr-3 h-5 w-5" />
                    Read the Original 1986 Paper
                </a>
            </div>
        </section>

        {/* --- Why This Matters --- */}
        <section>
          <div className="text-center max-w-3xl mx-auto mb-12">
            <h2 className="text-3xl md:text-4xl font-bold mb-4">This is More Than Segmentation. It's a Discovery Engine.</h2>
            <p className="text-lg text-gray-600">
              This approach provides a direct, actionable roadmap for innovation, marketing, and R&D.
            </p>
          </div>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
            <div className="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
              <Target className="h-10 w-10 text-indigo-500 mb-4" />
              <h3 className="text-xl font-semibold mb-2">Predicts Preference</h3>
              <p className="text-gray-500">More accurate than demographics or stated attitudes because it's based on actual sensory response.</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
              <Users className="h-10 w-10 text-purple-500 mb-4" />
              <h3 className="text-xl font-semibold mb-2">Reveals Hidden Groups</h3>
              <p className="text-gray-500">Finds and quantifies high-potential "white space" segments that current products are missing.</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
              <FlaskConical className="h-10 w-10 text-pink-500 mb-4" />
              <h3 className="text-xl font-semibold mb-2">Rational Exploration</h3>
              <p className="text-gray-500">Test new note combinations and fragrance ideas with a clear, data-driven view of segment appeal.</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
              <BrainCircuit className="h-10 w-10 text-emerald-500 mb-4" />
              <h3 className="text-xl font-semibold mb-2">Bridges R&D and Insights</h3>
              <p className="text-gray-500">Create better, more effective briefs using evidence-based sensory maps and ideal product profiles.</p>
            </div>
          </div>
        </section>

      </main>

      {/* --- Footer --- */}
      <footer className="bg-gray-800 text-gray-400 py-8">
        <div className="container mx-auto px-6 text-center">
          <p>&copy; {new Date().getFullYear()} Mindgenomics. All rights reserved.</p>
          <p className="text-sm mt-2">Pioneering the future of sensory research.</p>
        </div>
      </footer>
    </div>
  );
}
